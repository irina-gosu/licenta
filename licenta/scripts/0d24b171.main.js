function Neighbor(a,b){this.componentId=a,this.neighborPin=b}function Pin(a,b,c){return this.currentMode=b,this.number=c,this.pos=-1,this.value=randomValue,this.connected=0,this.pin_capacities=a,this.neighbors=[],this}function Led(){this.name="Led",this.label="",this.state=0,this.componentId=-1,this.type=0,this.input=new Pin(["input"],"input",1),this.gnd=new Pin(["OUT0"],"OUT0",0),this.pins=[],this.pins.push(this.input),this.pins.push(this.gnd),this.state=this.getState(),this.index=-1}function Resistor(){this.name="Resistor",this.label="",this.componentId=-1,this.pin0=new Pin(["input","output"],"input",0),this.pin1=new Pin(["input","output"],"output",1),this.pins=[],this.pins.push(this.pin0),this.pins.push(this.pin1)}function Button(){this.name="Button",this.label="",this.input=new Pin(["input"],"input",0),this.output=new Pin(["output"],"output",1),this.state=OFF,this.pins=[],this.pins.push(this.input),this.pins.push(this.output),this.componentId=-1}function raspberryPiBoard(){return this.name="raspberryPiBoard",this.pins=[],this.pins[0]=new Pin(["OUT1"],"OUT1",-1),this.pins[1]=new Pin(["OUT1"],"OUT1",-1),this.pins[2]=new Pin(["GPIO_IN","GPIO_OUT","I2C_SDA"],"GPIO_IN",8),this.pins[3]=new Pin(["OUT1"],"OUT1",-1),this.pins[4]=new Pin(["GPIO_IN","GPIO_OUT","I2C_SCL"],"GPIO_IN",9),this.pins[5]=new Pin(["OUT0"],"OUT0",-1),this.pins[6]=new Pin(["GPIO_IN","GPIO_OUT","SPI_CLK"],"GPIO_IN",7),this.pins[7]=new Pin(["GPIO_IN","GPIO_OUT"],"GPIO_IN",15),this.pins[8]=new Pin(["OUT0"],"OUT0",-1),this.pins[9]=new Pin(["GPIO_IN","GPIO_OUT"],"GPIO_IN",16),this.pins[10]=new Pin(["GPIO_IN","GPIO_OUT"],"GPIO_IN",0),this.pins[11]=new Pin(["GPIO_IN","GPIO_OUT","SPI_CLK","PWM"],"GPIO_IN",1),this.pins[12]=new Pin(["GPIO_IN","GPIO_OUT"],"GPIO_IN",2),this.pins[13]=new Pin(["OUT0"],"OUT0",-1),this.pins[14]=new Pin(["GPIO_IN","GPIO_OUT"],"GPIO_IN",3),this.pins[15]=new Pin(["GPIO_IN","GPIO_OUT"],"GPIO_IN",4),this.pins[16]=new Pin(["OUT1"],"OUT1",-1),this.pins[17]=new Pin(["GPIO_IN","GPIO_OUT"],"GPIO_IN",5),this.pins[18]=new Pin(["GPIO_IN","GPIO_OUT","SPI_MOSI"],"GPIO_IN",12),this.pins[19]=new Pin(["OUT0"],"OUT0",-1),this.pins[20]=new Pin(["GPIO_IN","GPIO_OUT","SPI_MISO"],"GPIO_IN",13),this.pins[21]=new Pin(["GPIO_IN","GPIO_OUT"],"GPIO_IN",6),this.pins[22]=new Pin(["GPIO_IN","GPIO_OUT","SPI_CLK"],"GPIO_IN",14),this.pins[23]=new Pin(["GPIO_IN","GPIO_OUT","SPI_SS"],"GPIO_IN",10),this.pins[24]=new Pin(["OUT0"],"OUT0",-1),this.pins[25]=new Pin(["GPIO_IN","GPIO_OUT","SPI_SS"],"GPIO_IN",11),this.pins[26]=new Pin(["I2C_SDA"],"I2C_SDA",-1),this.pins[27]=new Pin(["I2C_SCL"],"I2C_SCL",-1),this.pins[28]=new Pin(["GPIO_IN","GPIO_OUT","SPI_CLK"],"GPIO_IN",21),this.pins[29]=new Pin(["OUT0"],"OUT0",-1),this.pins[30]=new Pin(["GPIO_IN","GPIO_OUT","SPI_CLK"],"GPIO_IN",22),this.pins[31]=new Pin(["GPIO_IN","GPIO_OUT","PWM"],"GPIO_IN",26),this.pins[32]=new Pin(["GPIO_IN","GPIO_OUT","PWM"],"GPIO_IN",23),this.pins[33]=new Pin(["OUT0"],"OUT0",-1),this.pins[34]=new Pin(["GPIO_IN","GPIO_OUT","PWM"],"GPIO_IN",24),this.pins[35]=new Pin(["GPIO_IN","GPIO_OUT"],"GPIO_IN",27),this.pins[36]=new Pin(["GPIO_IN","GPIO_OUT"],"GPIO_IN",25),this.pins[37]=new Pin(["GPIO_IN","GPIO_OUT"],"GPIO_IN",28),this.pins[38]=new Pin(["OUT0"],"OUT0",-1),this.pins[39]=new Pin(["GPIO_IN","GPIO_OUT"],"GPIO_IN",29),this.piBoard=new Board(this.name,this.pins),this.piBoard}function returnPin(a,b,c){return this.mode=a,this.value=b,this.number=c,this}function Board(a,b){return this.name=a,this.label="",this.componentId=-1,this.pins=b,this.assignPinPos(),this}function connectPins(a,b,c,d){switch(b.currentMode.toLowerCase()){case"OUT0".toLowerCase():if(d.currentMode.toLowerCase()!=="OUT0".toLowerCase())return void console.log("This is wrong. This will break. We are not doing this. ");d.neighbors.push(new Neighbor(a.componentId,b));break;case"GPIO_IN".toLowerCase():a.pinMode(b.number,OUTPUT);break;case"INPUT".toLowerCase():if("Resistor"!==a.name)return void console.log("This is wrong. This will break. We are not doing this. ");var e=b.number?0:1;a.pins[b.number].currentMode="output",a.pins[e].currentMode="input";default:switch(d.currentMode.toLowerCase()){case"OUT0".toLowerCase():return void console.log("This is wrong. This will break. We are not doing this. ");case"GPIO_OUT".toLowerCase():c.pinMode(d.number,INPUT);break;case"OUTPUT".toLowerCase():if("Resistor"!==c.name)return void console.log("This is wrong. This will break. We are not doing this. ");var e=d.number?0:1;c.pins[d.number].currentMode="input",c.pins[e].currentMode="output"}}b.connected=1,d.connected=1,b.neighbors.push(new Neighbor(c.componentId,d))}function disconnectPins(a,b,c,d){for(var e=0;e<b.neighbors.length;e++)if(b.neighbors[e].neighborPin===d&&(b.neighbors.splice(e,1),b.currentMode.toLowerCase()==="OUT0".toLowerCase()))for(var f=0;f<d.neighbors.length;f++)d.neighbors[f].neighborPin===b&&(d.neighbors.splice(f,1),b.connected=0,d.connected=0)}function handleGetClick(){$.get("demo.xml",function(a){var b=$.xml2json(a);parse_netlist(b)})}function getPinFromComponent(a,b){if("raspberryPiBoard"===a.name){if(b.toLowerCase()==="3V3".toLowerCase()||b.toLowerCase()==="5V".toLowerCase())return nothing;if("GND"===b)for(var c=0;c<a.pins.length;c++)if("OUT0"===a.pins[c].pin_capacities[0])return a.pins[c];if(_.startsWith(b,"GPIO")||_.startsWith(b,"GIPO")){if(5===b.length)return a.searchPin(_.parseInt(b[4]));if(6===b.length)return a.searchPin(_.parseInt(b.substr(b.length-2)))}}if("Led"===a.name){if("cathode"===b)return a.gnd;if("anode"===b)return a.input;console.log("Component Led does not have pin "+b)}if("Button"===a.name){if("cathode"===b)return a.output;if("anode"===b)return a.input;console.log("Component Button does not have pin "+b)}if("Resistor"===a.name){if("Pin 0"===b)return a.pin0;if("Pin 1"===b)return a.pin1;console.log("Component Button does not have pin "+b)}}function parse_netlist(a){for(var b=0;b<a.net.length;b++){var c=a.net[b].connector;if(c.length>1){for(var d=[],e=[],f=0;f<c.length;f++){for(var g,h=0,i=0;i<components.length;i++)if(components[i].label===c[f].part.label){h=1,g=components[i],d.push(i);break}h||(c[f].part.title.toLowerCase()==="Raspberry Pi 2".toLowerCase()?g=raspberryPiBoard():"LED"===c[f].part.title.substr(c[f].part.title.length-3)?(g=new Led,initializare_led(g,c[f]),last_led=c[f].part.id):"Button"===c[f].part.title.toLowerCase()?g=new Button:"Resistor"===c[f].part.title.substr(c[f].part.title.length-8)?g=new Resistor:console.log("What is this component? "+c[f].part.title),g.label=c[f].part.label,g.componentId=c[f].part.id,components.push(g),d.push(components.length-1));var j=getPinFromComponent(g,c[f].name);e.push(j)}if(2===d.length)e[0]!=nothing&e[1]!=nothing&&connectPins(components[d[0]],e[0],components[d[1]],e[1]);else for(var f=1;f<d.length;f++)components[d[0]]===components[d[f]]?e[0].number!=e[f].number&&connectPins(components[d[0]],e[0],components[d[f]],e[f]):connectPins(components[d[0]],e[0],components[d[f]],e[f])}}for(var b=0;b<components.length;b++)for(var f=0;f<components[b].pins.length;f++)"OUT0"===components[b].pins[f].currentMode&&(components[b].pins[f].value=0),"OUT1"===components[b].pins[f].currentMode&&(components[b].pins[f].value=1);console.log(components)}function initializare_led(a,b){var c=b.part.title;c=c.substring(c.indexOf("(")+1,c.indexOf(")"));var d=/\d+/g;c=c.match(d),a.type=_.parseInt(c[0]),a.index=_.indexOf(leds,a.type)}function bfs(a,b){for(var c=[],d=a,e=0;d;){if(d.neighbors)for(var f=0;f<d.neighbors.length;f++)d.neighbors[f].neighborPin.value!=a.value&&(d.neighbors[f].neighborPin.setPin(a.value),c.push(d.neighbors[f].neighborPin),e=1,d.neighbors[f].neighborPin.value!=a.value&&console.log("funck yyou"));d=c.shift()}return e}function change_led(a,b){if(b){$("#svg1 svg g[partID="+a.componentId+"] #color_path32").attr("fill",colours_on[a.index])}else{$("#svg1 svg g[partID="+a.componentId+"] #color_path32").attr("fill",colours_off[a.index])}}function simulate(){for(var a=1;1===a;){a=0;for(var b=0,c=0;c<components.length;c++){components[c].name.toLowerCase()==="Resistor".toLowerCase()&&(b=components[c].update_values(),a=1===b||1===a?1:0);for(var d=0;d<components[c].pins.length;d++)b=bfs(components[c].pins[d],components[c]),a=1===b||1===a?1:0;"Resistor"===components[c].name&&(b=components[c].update_values(),a=1===b||1===a?1:0)}}for(var c=0;c<components.length;c++)"Led"===components[c].name&&(components[c].getState()?change_led(components[c],ON):change_led(components[c],OFF));-1!=last_led&&console.log("ledul "+last_led)}function runCode(a){console.log("cica se executa shtuff")}var mod$$inline_58=function(a){function b(a){U=a||{};for(var b in Y)Object.prototype.hasOwnProperty.call(U,b)||(U[b]=Y[b]);X=U.sourceFile||null}function c(a,b){var c=Z(V,a);b+=" ("+c.line+":"+c.column+")";var d=new SyntaxError(b);throw d.pos=a,d.loc=c,d.raisedAt=$,d}function d(a){function b(a){if(1==a.length)return c+="return str === "+JSON.stringify(a[0])+";";c+="switch(str){";for(var b=0;b<a.length;++b)c+="case "+JSON.stringify(a[b])+":";c+="return true}return false;"}a=a.split(" ");var c="",d=[],e=0;a:for(;e<a.length;++e){for(var f=0;f<d.length;++f)if(d[f][0].length==a[e].length){d[f].push(a[e]);continue a}d.push([a[e]])}if(3<d.length){for(d.sort(function(a,b){return b.length-a.length}),c+="switch(str.length){",e=0;e<d.length;++e)a=d[e],c+="case "+a[0].length+":",b(a);c+="}"}else b(a);return new Function("str",c)}function e(){this.line=ga,this.column=$-ha}function f(a,b){aa=$,U.locations&&(ca=new e),da=a,h(),ea=b,fa=a.beforeExpr}function g(){for(var a=$,b=U.onComment&&U.locations&&new e,c=V.charCodeAt($+=2);W>$&&10!==c&&13!==c&&8232!==c&&8233!==c;)++$,c=V.charCodeAt($);U.onComment&&U.onComment(!1,V.slice(a+2,$),a,$,b,U.locations&&new e)}function h(){for(;W>$;){var a=V.charCodeAt($);if(32===a)++$;else if(13===a)++$,a=V.charCodeAt($),10===a&&++$,U.locations&&(++ga,ha=$);else if(10===a||8232===a||8233===a)++$,U.locations&&(++ga,ha=$);else if(a>8&&14>a)++$;else if(47===a)if(a=V.charCodeAt($+1),42===a){var a=U.onComment&&U.locations&&new e,b=$,d=V.indexOf("*/",$+=2);if(-1===d&&c($-2,"Unterminated comment"),$=d+2,U.locations){Db.lastIndex=b;for(var f=void 0;(f=Db.exec(V))&&f.index<$;)++ga,ha=f.index+f[0].length}U.onComment&&U.onComment(!0,V.slice(b+2,d),b,$,a,U.locations&&new e)}else{if(47!==a)break;g()}else if(160===a)++$;else{if(!(a>=5760&&zb.test(String.fromCharCode(a))))break;++$}}}function i(a){switch(a){case 46:return a=V.charCodeAt($+1),a>=48&&57>=a?a=n(!0):(++$,a=f(bb)),a;case 40:return++$,f(Ya);case 41:return++$,f(Za);case 59:return++$,f(_a);case 44:return++$,f($a);case 91:return++$,f(Ua);case 93:return++$,f(Va);case 123:return++$,f(Wa);case 125:return++$,f(Xa);case 58:return++$,f(ab);case 63:return++$,f(cb);case 48:if(a=V.charCodeAt($+1),120===a||88===a)return $+=2,a=m(16),null==a&&c(_+2,"Expected hexadecimal number"),Eb(V.charCodeAt($))&&c($,"Identifier directly after number"),a=f(pa,a);case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return n(!1);case 34:case 39:a:{$++;for(var b="";;){$>=W&&c(_,"Unterminated string constant");var d=V.charCodeAt($);if(d===a){++$,a=f(ra,b);break a}if(92===d){var d=V.charCodeAt(++$),e=/^[0-7]+/.exec(V.slice($,$+3));for(e&&(e=e[0]);e&&255<parseInt(e,8);)e=e.slice(0,-1);if("0"===e&&(e=null),++$,e)na&&c($-2,"Octal literal in strict mode"),b+=String.fromCharCode(parseInt(e,8)),$+=e.length-1;else switch(d){case 110:b+="\n";break;case 114:b+="\r";break;case 120:b+=String.fromCharCode(o(2));break;case 117:b+=String.fromCharCode(o(4));break;case 85:b+=String.fromCharCode(o(8));break;case 116:b+="	";break;case 98:b+="\b";break;case 118:b+="";break;case 102:b+="\f";break;case 48:b+="\x00";break;case 13:10===V.charCodeAt($)&&++$;case 10:U.locations&&(ha=$,++ga);break;default:b+=String.fromCharCode(d)}}else 13!==d&&10!==d&&8232!==d&&8233!==d||c(_,"Unterminated string constant"),b+=String.fromCharCode(d),++$}}return a;case 47:return a=V.charCodeAt($+1),fa?(++$,a=l()):a=61===a?k(fb,2):k(db,1),a;case 37:case 42:return a=V.charCodeAt($+1),a=61===a?k(fb,2):k(rb,1);case 124:case 38:return b=V.charCodeAt($+1),a=b===a?k(124===a?ib:jb,2):61===b?k(fb,2):k(124===a?kb:mb,1);case 94:return a=V.charCodeAt($+1),a=61===a?k(fb,2):k(lb,1);case 43:case 45:return b=V.charCodeAt($+1),b===a?45==b&&62==V.charCodeAt($+2)&&Cb.test(V.slice(ja,$))?($+=3,g(),h(),a=j()):a=k(gb,2):a=61===b?k(fb,2):k(qb,1),a;case 60:case 62:return b=V.charCodeAt($+1),d=1,b===a?(d=62===a&&62===V.charCodeAt($+2)?3:2,a=61===V.charCodeAt($+d)?k(fb,d+1):k(pb,d)):33==b&&60==a&&45==V.charCodeAt($+2)&&45==V.charCodeAt($+3)?($+=4,g(),h(),a=j()):(61===b&&(d=61===V.charCodeAt($+2)?3:2),a=k(ob,d)),a;case 61:case 33:return b=V.charCodeAt($+1),a=61===b?k(nb,61===V.charCodeAt($+2)?3:2):k(61===a?eb:hb,1);case 126:return k(hb,1)}return!1}function j(a){if(a?$=_+1:_=$,U.locations&&(ba=new e),a)return l();if($>=W)return f(ta);var b=V.charCodeAt($);if(Eb(b)||92===b)return q();if(a=i(b),!1===a){if(b=String.fromCharCode(b),"\\"===b||Ab.test(b))return q();c($,"Unexpected character '"+b+"'")}return a}function k(a,b){var c=V.slice($,$+b);$+=b,f(a,c)}function l(){for(var a,b,d="",e=$;;){if($>=W&&c(e,"Unterminated regular expression"),d=V.charAt($),Cb.test(d)&&c(e,"Unterminated regular expression"),a)a=!1;else{if("["===d)b=!0;else if("]"===d&&b)b=!1;else if("/"===d&&!b)break;a="\\"===d}++$}d=V.slice(e,$),++$,(a=p())&&!/^[gmsiy]*$/.test(a)&&c(e,"Invalid regexp flag");try{var g=new RegExp(d,a)}catch(h){h instanceof SyntaxError&&c(e,h.message),c(h)}return f(qa,g)}function m(a,b){for(var c=$,d=0,e=0,f=null==b?1/0:b;f>e;++e){var g=V.charCodeAt($),g=g>=97?g-97+10:g>=65?g-65+10:g>=48&&57>=g?g-48:1/0;if(g>=a)break;++$,d=d*a+g}return $===c||null!=b&&$-c!==b?null:d}function n(a){var b=$,d=!1,e=48===V.charCodeAt($);a||null!==m(10)||c(b,"Invalid number"),46===V.charCodeAt($)&&(++$,m(10),d=!0),a=V.charCodeAt($),(69===a||101===a)&&(a=V.charCodeAt(++$),43!==a&&45!==a||++$,null===m(10)&&c(b,"Invalid number"),d=!0),Eb(V.charCodeAt($))&&c($,"Identifier directly after number"),a=V.slice(b,$);var g;return d?g=parseFloat(a):e&&1!==a.length?/[89]/.test(a)||na?c(b,"Invalid number"):g=parseInt(a,8):g=parseInt(a,10),f(pa,g)}function o(a){return a=m(16,a),null===a&&c(_,"Bad character escape sequence"),a}function p(){tb=!1;for(var a,b=!0,d=$;;){var e=V.charCodeAt($);if(Fb(e))tb&&(a+=V.charAt($)),++$;else{if(92!==e)break;tb||(a=V.slice(d,$)),tb=!0,117!=V.charCodeAt(++$)&&c($,"Expecting Unicode escape sequence \\uXXXX"),++$;var e=o(4),f=String.fromCharCode(e);f||c($-1,"Invalid Unicode escape"),(b?Eb(e):Fb(e))||c($-4,"Invalid Unicode escape"),a+=f}b=!1}return tb?a:V.slice(d,$)}function q(){var a=p(),b=sa;return tb||(yb(a)?b=Ta[a]:(U.forbidReserved&&(3===U.ecmaVersion?ub:vb)(a)||na&&wb(a))&&c(_,"The keyword '"+a+"' is reserved")),f(b,a)}function r(){ia=_,ja=aa,ka=ca,j()}function s(a){if(na=a,$=_,U.locations)for(;ha>$;)ha=V.lastIndexOf("\n",ha-2)+1,--ga;h(),j()}function t(){this.type=null,this.start=_,this.end=null}function u(){this.start=ba,this.end=null,null!==X&&(this.source=X)}function v(){var a=new t;return U.locations&&(a.loc=new u),U.directSourceFile&&(a.sourceFile=U.directSourceFile),U.ranges&&(a.range=[_,0]),a}function w(a){var b=new t;return b.start=a.start,U.locations&&(b.loc=new u,b.loc.start=a.loc.start),U.ranges&&(b.range=[a.range[0],0]),b}function x(a,b){return a.type=b,a.end=ja,U.locations&&(a.loc.end=ka),U.ranges&&(a.range[1]=ja),a}function y(a){return 5<=U.ecmaVersion&&"ExpressionStatement"===a.type&&"Literal"===a.expression.type&&"use strict"===a.expression.value}function z(a){return da===a?(r(),!0):void 0}function A(){return!U.strictSemicolons&&(da===ta||da===Xa||Cb.test(V.slice(ja,_)))}function B(){z(_a)||A()||D()}function C(a){da===a?r():D()}function D(){c(_,"Unexpected token")}function E(a){"Identifier"!==a.type&&"MemberExpression"!==a.type&&c(a.start,"Assigning to rvalue"),na&&"Identifier"===a.type&&xb(a.name)&&c(a.start,"Assigning to "+a.name+" in strict mode")}function F(){(da===db||da===fb&&"/="==ea)&&j(!0);var a=da,b=v();switch(a){case ua:case xa:r();var d=a===ua;z(_a)||A()?b.label=null:da!==sa?D():(b.label=T(),B());for(var e=0;e<ma.length;++e){var f=ma[e];if(null==b.label||f.name===b.label.name){if(null!=f.kind&&(d||"loop"===f.kind))break;if(b.label&&d)break}}return e===ma.length&&c(b.start,"Unsyntactic "+a.keyword),x(b,d?"BreakStatement":"ContinueStatement");case ya:return r(),B(),x(b,"DebuggerStatement");case Aa:return r(),ma.push(Gb),b.body=F(),ma.pop(),C(La),b.test=G(),B(),x(b,"DoWhileStatement");case Da:return r(),ma.push(Gb),C(Ya),da===_a?I(b,null):da===Ka?(a=v(),r(),K(a,!0),x(a,"VariableDeclaration"),1===a.declarations.length&&z(Sa)?J(b,a):I(b,a)):(a=L(!1,!0),z(Sa)?(E(a),J(b,a)):I(b,a));case Ea:return r(),R(b,!0);case Fa:return r(),b.test=G(),b.consequent=F(),b.alternate=z(Ba)?F():null,x(b,"IfStatement");case Ga:return la||c(_,"'return' outside of function"),r(),z(_a)||A()?b.argument=null:(b.argument=L(),B()),x(b,"ReturnStatement");case Ha:for(r(),b.discriminant=G(),b.cases=[],C(Wa),ma.push(Hb);da!=Xa;)da===va||da===za?(a=da===va,e&&x(e,"SwitchCase"),b.cases.push(e=v()),e.consequent=[],r(),a?e.test=L():(d&&c(ia,"Multiple default clauses"),d=!0,e.test=null),C(ab)):(e||D(),e.consequent.push(F()));return e&&x(e,"SwitchCase"),r(),ma.pop(),x(b,"SwitchStatement");case Ia:return r(),Cb.test(V.slice(ja,_))&&c(ja,"Illegal newline after throw"),b.argument=L(),B(),x(b,"ThrowStatement");case Ja:return r(),b.block=H(),b.handler=null,da===wa&&(a=v(),r(),C(Ya),a.param=T(),na&&xb(a.param.name)&&c(a.param.start,"Binding "+a.param.name+" in strict mode"),C(Za),a.guard=null,a.body=H(),b.handler=x(a,"CatchClause")),b.guardedHandlers=oa,b.finalizer=z(Ca)?H():null,b.handler||b.finalizer||c(b.start,"Missing catch or finally clause"),x(b,"TryStatement");case Ka:return r(),K(b),B(),x(b,"VariableDeclaration");case La:return r(),b.test=G(),ma.push(Gb),b.body=F(),ma.pop(),x(b,"WhileStatement");case Ma:return na&&c(_,"'with' in strict mode"),r(),b.object=G(),b.body=F(),x(b,"WithStatement");case Wa:return H();case _a:return r(),x(b,"EmptyStatement");default:if(d=ea,f=L(),a===sa&&"Identifier"===f.type&&z(ab)){for(e=0;e<ma.length;++e)ma[e].name===d&&c(f.start,"Label '"+d+"' is already declared");return a=da.isLoop?"loop":da===Ha?"switch":null,ma.push({name:d,kind:a}),b.body=F(),ma.pop(),b.label=f,x(b,"LabeledStatement")}return b.expression=f,B(),x(b,"ExpressionStatement")}}function G(){C(Ya);var a=L();return C(Za),a}function H(a){var b,c=v(),d=!0,e=!1;for(c.body=[],C(Wa);!z(Xa);){var f=F();c.body.push(f),d&&a&&y(f)&&(b=e,s(e=!0)),d=!1}return e&&!b&&s(!1),x(c,"BlockStatement")}function I(a,b){return a.init=b,C(_a),a.test=da===_a?null:L(),C(_a),a.update=da===Za?null:L(),C(Za),a.body=F(),ma.pop(),x(a,"ForStatement")}function J(a,b){return a.left=b,a.right=L(),C(Za),a.body=F(),ma.pop(),x(a,"ForInStatement")}function K(a,b){for(a.declarations=[],a.kind="var";;){var d=v();if(d.id=T(),na&&xb(d.id.name)&&c(d.id.start,"Binding "+d.id.name+" in strict mode"),d.init=z(eb)?L(!0,b):null,a.declarations.push(x(d,"VariableDeclarator")),!z($a))break}return a}function L(a,b){var c=M(b);if(!a&&da===$a){var d=w(c);for(d.expressions=[c];z($a);)d.expressions.push(M(b));return x(d,"SequenceExpression")}return c}function M(a){var b;b=a;var c;if(c=b,c=N(O(),-1,c),z(cb)){var d=w(c);d.test=c,d.consequent=L(!0),C(ab),d.alternate=L(!0,b),b=x(d,"ConditionalExpression")}else b=c;return da.isAssign?(c=w(b),c.operator=ea,c.left=b,r(),c.right=M(a),E(b),x(c,"AssignmentExpression")):b}function N(a,b,c){var d=da.binop;if(null!=d&&(!c||da!==Sa)&&d>b){var e=w(a);return e.left=a,e.operator=ea,a=da,r(),e.right=N(O(),d,c),d=x(e,a===ib||a===jb?"LogicalExpression":"BinaryExpression"),N(d,b,c)}return a}function O(){if(da.prefix){var a=v(),b=da.isUpdate;return a.operator=ea,fa=a.prefix=!0,r(),a.argument=O(),b?E(a.argument):na&&"delete"===a.operator&&"Identifier"===a.argument.type&&c(a.start,"Deleting local variable in strict mode"),x(a,b?"UpdateExpression":"UnaryExpression")}for(b=P(Q());da.postfix&&!A();)a=w(b),a.operator=ea,a.prefix=!1,a.argument=b,E(b),r(),b=x(a,"UpdateExpression");return b}function P(a,b){if(z(bb)){var c=w(a);return c.object=a,c.property=T(!0),c.computed=!1,P(x(c,"MemberExpression"),b)}return z(Ua)?(c=w(a),c.object=a,c.property=L(),c.computed=!0,C(Va),P(x(c,"MemberExpression"),b)):!b&&z(Ya)?(c=w(a),c.callee=a,c.arguments=S(Za,!1),P(x(c,"CallExpression"),b)):a}function Q(){switch(da){case Oa:var a=v();return r(),x(a,"ThisExpression");case sa:return T();case pa:case ra:case qa:return a=v(),a.value=ea,a.raw=V.slice(_,aa),r(),x(a,"Literal");case Pa:case Qa:case Ra:return a=v(),a.value=da.atomValue,a.raw=da.keyword,r(),x(a,"Literal");case Ya:var a=ba,b=_;r();var d=L();return d.start=b,d.end=aa,U.locations&&(d.loc.start=a,d.loc.end=ca),U.ranges&&(d.range=[b,aa]),C(Za),d;case Ua:return a=v(),r(),a.elements=S(Va,!0,!0),x(a,"ArrayExpression");case Wa:for(a=v(),b=!0,d=!1,a.properties=[],r();!z(Xa);){if(b)b=!1;else if(C($a),U.allowTrailingCommas&&z(Xa))break;var e,f={key:da===pa||da===ra?Q():T(!0)},g=!1;if(z(ab)?(f.value=L(!0),e=f.kind="init"):5<=U.ecmaVersion&&"Identifier"===f.key.type&&("get"===f.key.name||"set"===f.key.name)?(g=d=!0,e=f.kind=f.key.name,f.key=da===pa||da===ra?Q():T(!0),da!==Ya&&D(),f.value=R(v(),!1)):D(),"Identifier"===f.key.type&&(na||d))for(var h=0;h<a.properties.length;++h){var i=a.properties[h];if(i.key.name===f.key.name){var j=e==i.kind||g&&"init"===i.kind||"init"===e&&("get"===i.kind||"set"===i.kind);j&&!na&&"init"===e&&"init"===i.kind&&(j=!1),j&&c(f.key.start,"Redefinition of property")}}a.properties.push(f)}return a=x(a,"ObjectExpression");case Ea:return a=v(),r(),R(a,!1);case Na:return a=v(),r(),a.callee=P(Q(),!0),z(Ya)?a.arguments=S(Za,!1):a.arguments=oa,a=x(a,"NewExpression");default:D()}}function R(a,b){da===sa?a.id=T():b?D():a.id=null,a.params=[];var d=!0;for(C(Ya);!z(Za);)d?d=!1:C($a),a.params.push(T());var d=la,e=ma;if(la=!0,ma=[],a.body=H(!0),la=d,ma=e,na||a.body.body.length&&y(a.body.body[0]))for(d=a.id?-1:0;d<a.params.length;++d)if(e=0>d?a.id:a.params[d],(wb(e.name)||xb(e.name))&&c(e.start,"Defining '"+e.name+"' in strict mode"),d>=0)for(var f=0;d>f;++f)e.name===a.params[f].name&&c(e.start,"Argument name clash in strict mode");return x(a,b?"FunctionDeclaration":"FunctionExpression")}function S(a,b,c){for(var d=[],e=!0;!z(a);){if(e)e=!1;else if(C($a),b&&U.allowTrailingCommas&&z(a))break;c&&da===$a?d.push(null):d.push(L(!0))}return d}function T(a){var b=v();return b.name=da===sa?ea:a&&!U.forbidReserved&&da.keyword||D(),fa=!1,r(),x(b,"Identifier")}a.version="0.4.1";var U,V,W,X;a.parse=function(a,c){V=String(a),W=V.length,b(c),ga=1,$=ha=0,fa=!0,h();var d,f=U.program;ia=ja=$,U.locations&&(ka=new e),la=na=null,ma=[],j(),d=f||v();var g=!0;for(f||(d.body=[]);da!==ta;)f=F(),d.body.push(f),g&&y(f)&&s(!0),g=!1;return d=x(d,"Program")};var Y=a.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null},Z=a.getLineInfo=function(a,b){for(var c=1,d=0;;){Db.lastIndex=d;var e=Db.exec(a);if(!(e&&e.index<b))break;++c,d=e.index+e[0].length}return{line:c,column:b-d}};a.tokenize=function(a,c){function d(a){return j(a),e.start=_,e.end=aa,e.startLoc=ba,e.endLoc=ca,e.type=da,e.value=ea,e}V=String(a),W=V.length,b(c),ga=1,$=ha=0,fa=!0,h();var e={};return d.jumpTo=function(a,b){if($=a,U.locations){ga=1,ha=Db.lastIndex=0;for(var c;(c=Db.exec(V))&&c.index<a;)++ga,ha=c.index+c[0].length}fa=b,h()},d};var $,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa=[],pa={type:"num"},qa={type:"regexp"},ra={type:"string"},sa={type:"name"},ta={type:"eof"},ua={keyword:"break"},va={keyword:"case",beforeExpr:!0},wa={keyword:"catch"},xa={keyword:"continue"},ya={keyword:"debugger"},za={keyword:"default"},Aa={keyword:"do",isLoop:!0},Ba={keyword:"else",beforeExpr:!0},Ca={keyword:"finally"},Da={keyword:"for",isLoop:!0},Ea={keyword:"function"},Fa={keyword:"if"},Ga={keyword:"return",beforeExpr:!0},Ha={keyword:"switch"},Ia={keyword:"throw",beforeExpr:!0},Ja={keyword:"try"},Ka={keyword:"var"},La={keyword:"while",isLoop:!0},Ma={keyword:"with"},Na={keyword:"new",beforeExpr:!0},Oa={keyword:"this"},Pa={keyword:"null",atomValue:null},Qa={keyword:"true",atomValue:!0},Ra={keyword:"false",atomValue:!1},Sa={keyword:"in",binop:7,beforeExpr:!0},Ta={"break":ua,"case":va,"catch":wa,"continue":xa,"debugger":ya,"default":za,"do":Aa,"else":Ba,"finally":Ca,"for":Da,"function":Ea,"if":Fa,"return":Ga,"switch":Ha,"throw":Ia,"try":Ja,"var":Ka,"while":La,"with":Ma,"null":Pa,"true":Qa,"false":Ra,"new":Na,"in":Sa,"instanceof":{keyword:"instanceof",binop:7,beforeExpr:!0},"this":Oa,"typeof":{keyword:"typeof",prefix:!0,beforeExpr:!0},"void":{keyword:"void",prefix:!0,beforeExpr:!0},"delete":{keyword:"delete",prefix:!0,beforeExpr:!0}},Ua={type:"[",beforeExpr:!0},Va={type:"]"},Wa={type:"{",beforeExpr:!0},Xa={type:"}"},Ya={type:"(",beforeExpr:!0},Za={type:")"},$a={type:",",beforeExpr:!0},_a={type:";",beforeExpr:!0},ab={type:":",beforeExpr:!0},bb={type:"."},cb={type:"?",beforeExpr:!0},db={binop:10,beforeExpr:!0},eb={isAssign:!0,beforeExpr:!0},fb={isAssign:!0,beforeExpr:!0},gb={postfix:!0,prefix:!0,isUpdate:!0},hb={prefix:!0,beforeExpr:!0},ib={binop:1,beforeExpr:!0},jb={binop:2,beforeExpr:!0},kb={binop:3,beforeExpr:!0},lb={binop:4,beforeExpr:!0},mb={binop:5,beforeExpr:!0},nb={binop:6,beforeExpr:!0},ob={binop:7,beforeExpr:!0},pb={binop:8,beforeExpr:!0},qb={binop:9,prefix:!0,beforeExpr:!0},rb={binop:10,beforeExpr:!0};a.tokTypes={bracketL:Ua,bracketR:Va,braceL:Wa,braceR:Xa,parenL:Ya,parenR:Za,comma:$a,semi:_a,colon:ab,dot:bb,question:cb,slash:db,eq:eb,name:sa,eof:ta,num:pa,regexp:qa,string:ra};for(var sb in Ta)a.tokTypes["_"+sb]=Ta[sb];var tb,ub=d("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),vb=d("class enum extends super const export import"),wb=d("implements interface let package private protected public static yield"),xb=d("eval arguments"),yb=d("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),zb=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Ab=RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),Bb=RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]"),Cb=/[\n\r\u2028\u2029]/,Db=/\r\n|[\n\r\u2028\u2029]/g,Eb=a.isIdentifierStart=function(a){return 65>a?36===a:91>a?!0:97>a?95===a:123>a?!0:a>=170&&Ab.test(String.fromCharCode(a))},Fb=a.isIdentifierChar=function(a){return 48>a?36===a:58>a?!0:65>a?!1:91>a?!0:97>a?95===a:123>a?!0:a>=170&&Bb.test(String.fromCharCode(a))},Gb={kind:"loop"},Hb={kind:"switch"}};"object"==typeof exports&&"object"==typeof module?mod$$inline_58(exports):"function"==typeof define&&define.amd?define(["exports"],mod$$inline_58):mod$$inline_58(this.acorn||(this.acorn={}));var Interpreter=function(a,b){this.initFunc_=b,this.UNDEFINED=this.createPrimitive(void 0),this.ast=acorn.parse(a);var c=this.createScope(this.ast,null);this.stateStack=[{node:this.ast,scope:c,thisExpression:c}]};Interpreter.prototype.step=function(){if(0==this.stateStack.length)return!1;var a=this.stateStack[0];return this["step"+a.node.type](),!0},Interpreter.prototype.run=function(){for(;this.step(););},Interpreter.prototype.initGlobalScope=function(a){this.setProperty(a,"Infinity",this.createPrimitive(1/0),!0),this.setProperty(a,"NaN",this.createPrimitive(NaN),!0),this.setProperty(a,"undefined",this.UNDEFINED,!0),this.setProperty(a,"window",a,!0),this.setProperty(a,"self",a,!1),this.initFunction(a),this.initObject(a),a.parent=this.OBJECT,this.initArray(a),this.initNumber(a),this.initString(a),this.initBoolean(a),this.initDate(a),this.initMath(a),this.initRegExp(a),this.initJSON(a);var b,c=this;b=function(a){return a=a||c.UNDEFINED,c.createPrimitive(isNaN(a.toNumber()))},this.setProperty(a,"isNaN",this.createNativeFunction(b)),b=function(a){return a=a||c.UNDEFINED,c.createPrimitive(isFinite(a.toNumber()))},this.setProperty(a,"isFinite",this.createNativeFunction(b)),b=function(a){return a=a||c.UNDEFINED,c.createPrimitive(parseFloat(a.toNumber()))},this.setProperty(a,"parseFloat",this.createNativeFunction(b)),b=function(a,b){return a=a||c.UNDEFINED,b=b||c.UNDEFINED,c.createPrimitive(parseInt(a.toString(),b.toNumber()))},this.setProperty(a,"parseInt",this.createNativeFunction(b)),b=this.createObject(this.FUNCTION),b.eval=!0,this.setProperty(b,"length",this.createPrimitive(1),!0),this.setProperty(a,"eval",b);for(var d="escape unescape decodeURI decodeURIComponent encodeURI encodeURIComponent".split(" "),e=0;e<d.length;e++)b=function(a){return function(b){return b=b||c.UNDEFINED,c.createPrimitive(a(b.toString()))}}(window[d[e]]),this.setProperty(a,d[e],this.createNativeFunction(b));this.initFunc_&&this.initFunc_(this,a)},Interpreter.prototype.initFunction=function(a){var b,c=this;b=function(a){for(var b=this.parent==c.FUNCTION?this:c.createObject(c.FUNCTION),d=arguments.length?arguments[arguments.length-1].toString():"",e=[],f=0;f<arguments.length-1;f++)e.push(arguments[f].toString());if(e=e.join(", "),-1!=e.indexOf(")"))throw new SyntaxError("Function arg string contains parenthesis");return b.parentScope=c.stateStack[c.stateStack.length-1].scope,d=acorn.parse("$ = function("+e+") {"+d+"};"),b.node=d.body[0].expression.right,c.setProperty(b,"length",c.createPrimitive(b.node.length),!0),b},this.FUNCTION=this.createObject(null),this.setProperty(a,"Function",this.FUNCTION),this.FUNCTION.type="function",this.setProperty(this.FUNCTION,"prototype",this.createObject(null)),this.FUNCTION.nativeFunc=b,a={type:"FunctionApply_",params:[],id:null,body:null,start:0,
end:0},this.setProperty(this.FUNCTION.properties.prototype,"apply",this.createFunction(a,{}),!1,!0),a={type:"FunctionCall_",params:[],id:null,body:null,start:0,end:0},this.setProperty(this.FUNCTION.properties.prototype,"call",this.createFunction(a,{}),!1,!0),b=function(){return c.createPrimitive(this.toString())},this.setProperty(this.FUNCTION.properties.prototype,"toString",this.createNativeFunction(b),!1,!0),this.setProperty(this.FUNCTION,"toString",this.createNativeFunction(b),!1,!0),b=function(){return c.createPrimitive(this.valueOf())},this.setProperty(this.FUNCTION.properties.prototype,"valueOf",this.createNativeFunction(b),!1,!0),this.setProperty(this.FUNCTION,"valueOf",this.createNativeFunction(b),!1,!0)},Interpreter.prototype.initObject=function(a){var b,c=this;b=function(){var a=this.parent==c.OBJECT?this:c.createObject(c.OBJECT);return a},this.OBJECT=this.createNativeFunction(b),this.setProperty(a,"Object",this.OBJECT),b=function(){return c.createPrimitive(this.toString())},this.setProperty(this.OBJECT.properties.prototype,"toString",this.createNativeFunction(b),!1,!0),b=function(){return c.createPrimitive(this.valueOf())},this.setProperty(this.OBJECT.properties.prototype,"valueOf",this.createNativeFunction(b),!1,!0)},Interpreter.prototype.initArray=function(a){var b,c=this,d=function(a,b){var c=a?Math.floor(a.toNumber()):b;return isNaN(c)&&(c=b),c};b=function(a){var b=this.parent==c.ARRAY?this:c.createObject(c.ARRAY),d=arguments[0];if(d&&"number"==d.type){if(isNaN(c.arrayIndex(d)))throw new RangeError("Invalid array length");b.length=d.data}else{for(d=0;d<arguments.length;d++)b.properties[d]=arguments[d];b.length=d}return b},this.ARRAY=this.createNativeFunction(b),this.setProperty(a,"Array",this.ARRAY),b=function(){if(this.length){var a=this.properties[this.length-1];delete this.properties[this.length-1],this.length--}else a=c.UNDEFINED;return a},this.setProperty(this.ARRAY.properties.prototype,"pop",this.createNativeFunction(b),!1,!0),b=function(a){for(var b=0;b<arguments.length;b++)this.properties[this.length]=arguments[b],this.length++;return c.createPrimitive(this.length)},this.setProperty(this.ARRAY.properties.prototype,"push",this.createNativeFunction(b),!1,!0),b=function(){if(this.length){for(var a=this.properties[0],b=1;b<this.length;b++)this.properties[b-1]=this.properties[b];this.length--,delete this.properties[this.length]}else a=c.UNDEFINED;return a},this.setProperty(this.ARRAY.properties.prototype,"shift",this.createNativeFunction(b),!1,!0),b=function(a){for(var b=this.length-1;b>=0;b--)this.properties[b+arguments.length]=this.properties[b];for(this.length+=arguments.length,b=0;b<arguments.length;b++)this.properties[b]=arguments[b];return c.createPrimitive(this.length)},this.setProperty(this.ARRAY.properties.prototype,"unshift",this.createNativeFunction(b),!1,!0),b=function(){for(var a=0;a<this.length/2;a++){var b=this.properties[this.length-a-1];this.properties[this.length-a-1]=this.properties[a],this.properties[a]=b}return c.UNDEFINED},this.setProperty(this.ARRAY.properties.prototype,"reverse",this.createNativeFunction(b),!1,!0),b=function(a,b,e){a=d(a,0),a=0>a?Math.max(this.length+a,0):Math.min(a,this.length),b=d(b,1/0),b=Math.min(b,this.length-a);for(var f=c.createObject(c.ARRAY),g=a;a+b>g;g++)f.properties[f.length++]=this.properties[g],this.properties[g]=this.properties[g+b];for(g=a+b;g<this.length;g++)delete this.properties[g];for(this.length-=b,g=this.length-1;g>=a;g--)this.properties[g+arguments.length-2]=this.properties[g];for(this.length+=arguments.length-2,g=2;g<arguments.length;g++)this.properties[a+g-2]=arguments[g];return f},this.setProperty(this.ARRAY.properties.prototype,"splice",this.createNativeFunction(b),!1,!0),b=function(a,b){var e=c.createObject(c.ARRAY),f=d(a,0);0>f&&(f=this.length+f);var f=Math.max(0,Math.min(f,this.length)),g=d(b,this.length);0>g&&(g=this.length+g);for(var g=Math.max(0,Math.min(g,this.length)),h=0;g>f;f++){var i=c.getProperty(this,f);c.setProperty(e,h++,i)}return e},this.setProperty(this.ARRAY.properties.prototype,"slice",this.createNativeFunction(b),!1,!0),b=function(a){a=a&&void 0!==a.data?a.toString():void 0;for(var b=[],d=0;d<this.length;d++)b[d]=this.properties[d];return c.createPrimitive(b.join(a))},this.setProperty(this.ARRAY.properties.prototype,"join",this.createNativeFunction(b),!1,!0),b=function(a){for(var b=c.createObject(c.ARRAY),d=0,e=0;e<this.length;e++){var f=c.getProperty(this,e);c.setProperty(b,d++,f)}for(e=0;e<arguments.length;e++){var g=arguments[e];if(c.isa(g,c.ARRAY))for(var h=0;h<g.length;h++)f=c.getProperty(g,h),c.setProperty(b,d++,f);else c.setProperty(b,d++,g)}return b},this.setProperty(this.ARRAY.properties.prototype,"concat",this.createNativeFunction(b),!1,!0),b=function(a,b){a=a||c.UNDEFINED;var e=d(b,0);for(0>e&&(e=this.length+e),e=Math.max(0,Math.min(e,this.length));e<this.length;e++){var f=c.getProperty(this,e);if(0==c.comp(f,a))return c.createPrimitive(e)}return c.createPrimitive(-1)},this.setProperty(this.ARRAY.properties.prototype,"indexOf",this.createNativeFunction(b),!1,!0),b=function(a,b){a=a||c.UNDEFINED;var e=d(b,this.length);for(0>e&&(e=this.length+e),e=Math.max(0,Math.min(e,this.length));e>=0;e--){var f=c.getProperty(this,e);if(0==c.comp(f,a))return c.createPrimitive(e)}return c.createPrimitive(-1)},this.setProperty(this.ARRAY.properties.prototype,"lastIndexOf",this.createNativeFunction(b),!1,!0)},Interpreter.prototype.initNumber=function(a){var b,c=this;for(b=function(a){return a=a?a.toNumber():0,this.parent!=c.NUMBER?c.createPrimitive(a):(this.toBoolean=function(){return!!a},this.toNumber=function(){return a},this.toString=function(){return String(a)},void 0)},this.NUMBER=this.createNativeFunction(b),this.setProperty(a,"Number",this.NUMBER),a=["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"],b=0;b<a.length;b++)this.setProperty(this.NUMBER,a[b],this.createPrimitive(Number[a[b]]));b=function(a){a=a?a.toNumber():void 0;var b=this.toNumber();return c.createPrimitive(b.toExponential(a))},this.setProperty(this.NUMBER.properties.prototype,"toExponential",this.createNativeFunction(b),!1,!0),b=function(a){a=a?a.toNumber():void 0;var b=this.toNumber();return c.createPrimitive(b.toFixed(a))},this.setProperty(this.NUMBER.properties.prototype,"toFixed",this.createNativeFunction(b),!1,!0),b=function(a){a=a?a.toNumber():void 0;var b=this.toNumber();return c.createPrimitive(b.toPrecision(a))},this.setProperty(this.NUMBER.properties.prototype,"toPrecision",this.createNativeFunction(b),!1,!0),b=function(a){a=a?a.toNumber():10;var b=this.toNumber();return c.createPrimitive(b.toString(a))},this.setProperty(this.OBJECT.properties.prototype,"toString",this.createNativeFunction(b),!1,!0)},Interpreter.prototype.initString=function(a){var b,c=this;b=function(a){return a=(a||c.UNDEFINED).toString(),this.parent!=c.STRING?c.createPrimitive(a):(this.toBoolean=function(){return!!a},this.toNumber=function(){return Number(a)},this.toString=function(){return a},this.valueOf=function(){return a},this.data=a,void 0)},this.STRING=this.createNativeFunction(b),this.setProperty(a,"String",this.STRING),a=["toLowerCase","toUpperCase","toLocaleLowerCase","toLocaleUpperCase"];for(var d=0;d<a.length;d++)b=function(a){return function(){return c.createPrimitive(a.apply(this))}}(String.prototype[a[d]]),this.setProperty(this.STRING.properties.prototype,a[d],this.createNativeFunction(b),!1,!0);b=function(){var a=this.toString();return c.createPrimitive(a.replace(/^\s+|\s+$/g,""))},this.setProperty(this.STRING.properties.prototype,"trim",this.createNativeFunction(b),!1,!0),b=function(){var a=this.toString();return c.createPrimitive(a.replace(/^\s+/g,""))},this.setProperty(this.STRING.properties.prototype,"trimLeft",this.createNativeFunction(b),!1,!0),b=function(){var a=this.toString();return c.createPrimitive(a.replace(/\s+$/g,""))},this.setProperty(this.STRING.properties.prototype,"trimRight",this.createNativeFunction(b),!1,!0),b=function(a){var b=this.toString();return a=(a||c.UNDEFINED).toNumber(),c.createPrimitive(b.charAt(a))},this.setProperty(this.STRING.properties.prototype,"charAt",this.createNativeFunction(b),!1,!0),b=function(a){var b=this.toString();return a=(a||c.UNDEFINED).toNumber(),c.createPrimitive(b.charCodeAt(a))},this.setProperty(this.STRING.properties.prototype,"charCodeAt",this.createNativeFunction(b),!1,!0),b=function(a,b){var d=this.toString();return a=(a||c.UNDEFINED).toString(),b=b?b.toNumber():void 0,c.createPrimitive(d.indexOf(a,b))},this.setProperty(this.STRING.properties.prototype,"indexOf",this.createNativeFunction(b),!1,!0),b=function(a,b){var d=this.toString();return a=(a||c.UNDEFINED).toString(),b=b?b.toNumber():void 0,c.createPrimitive(d.lastIndexOf(a,b))},this.setProperty(this.STRING.properties.prototype,"lastIndexOf",this.createNativeFunction(b),!1,!0),b=function(a,b){var d=this.toString();a=a?a.toString():void 0,b=b?b.toNumber():void 0;for(var d=d.split(a,b),e=c.createObject(c.ARRAY),f=0;f<d.length;f++)c.setProperty(e,f,c.createPrimitive(d[f]));return e},this.setProperty(this.STRING.properties.prototype,"split",this.createNativeFunction(b),!1,!0),b=function(a,b){var d=this.toString();return a=a?a.toNumber():void 0,b=b?b.toNumber():void 0,c.createPrimitive(d.substring(a,b))},this.setProperty(this.STRING.properties.prototype,"substring",this.createNativeFunction(b),!1,!0),b=function(a,b){var d=this.toString();return a=a?a.toNumber():void 0,b=b?b.toNumber():void 0,c.createPrimitive(d.substr(a,b))},this.setProperty(this.STRING.properties.prototype,"substr",this.createNativeFunction(b),!1,!0),b=function(a){for(var b=this.toString(),d=0;d<arguments.length;d++)b+=arguments[d].toString();return c.createPrimitive(b)},this.setProperty(this.STRING.properties.prototype,"concat",this.createNativeFunction(b),!1,!0),b=function(a,b){var d=this.toString();return a=a?a.toNumber():void 0,b=b?b.toNumber():void 0,c.createPrimitive(d.slice(a,b))},this.setProperty(this.STRING.properties.prototype,"slice",this.createNativeFunction(b),!1,!0),b=function(a){var b=this.toString();if(a=a?a.data:void 0,a=b.match(a),null===a)return c.createPrimitive(null);for(var b=c.createObject(c.ARRAY),d=0;d<a.length;d++)c.setProperty(b,d,c.createPrimitive(a[d]));return b},this.setProperty(this.STRING.properties.prototype,"match",this.createNativeFunction(b),!1,!0)},Interpreter.prototype.initBoolean=function(a){var b,c=this;b=function(a){return a=a?a.toBoolean():!1,this.parent!=c.STRING?c.createPrimitive(a):(this.toBoolean=function(){return a},this.toNumber=function(){return Number(a)},this.toString=function(){return String(a)},this.valueOf=function(){return a},void 0)},this.BOOLEAN=this.createNativeFunction(b),this.setProperty(a,"Boolean",this.BOOLEAN)},Interpreter.prototype.initDate=function(a){var b,c=this;b=function(a,b,d,e,f,g,h){var i=this.parent==c.DATE?this:c.createObject(c.DATE),j=a;if(arguments.length)if(1!=arguments.length||"string"!=j.type&&!c.isa(j,c.STRING)){for(var j=[],k=0;k<arguments.length;k++)j[k]=arguments[k]?arguments[k].toNumber():void 0;i.date=1==j.length?new Date(j[0]):2==j.length?new Date(j[0],j[1]):3==j.length?new Date(j[0],j[1],j[2]):4==j.length?new Date(j[0],j[1],j[2],j[3]):5==j.length?new Date(j[0],j[1],j[2],j[3],j[4]):6==j.length?new Date(j[0],j[1],j[2],j[3],j[4],j[5]):new Date(j[0],j[1],j[2],j[3],j[4],j[5],j[6])}else i.date=new Date(j.toString());else i.date=new Date;return i.toString=function(){return String(this.date)},i.toNumber=function(){return Number(this.date)},i.valueOf=function(){return this.date.valueOf()},i},this.DATE=this.createNativeFunction(b),this.setProperty(a,"Date",this.DATE),b=function(){return c.createPrimitive((new Date).getTime())},this.setProperty(this.DATE,"now",this.createNativeFunction(b),!1,!0),b=function(a){return a=a?a.toString():void 0,c.createPrimitive(Date.parse(a))},this.setProperty(this.DATE,"parse",this.createNativeFunction(b),!1,!0),b=function(a,b,d,e,f,g,h){for(var i=[],j=0;j<arguments.length;j++)i[j]=arguments[j]?arguments[j].toNumber():void 0;return c.createPrimitive(Date.UTC.apply(Date,i))},this.setProperty(this.DATE,"UTC",this.createNativeFunction(b),!1,!0);var d="getDate getDay getFullYear getHours getMilliseconds getMinutes getMonth getSeconds getTime getTimezoneOffset getUTCDate getUTCDay getUTCFullYear getUTCHours getUTCMilliseconds getUTCMinutes getUTCMonth getUTCSeconds getYear".split(" ");for(a=0;a<d.length;a++)b=function(a){return function(){return c.createPrimitive(this.date[a]())}}(d[a]),this.setProperty(this.DATE.properties.prototype,d[a],this.createNativeFunction(b),!1,!0);for(d="setDate setFullYear setHours setMilliseconds setMinutes setMonth setSeconds setTime setUTCDate setUTCFullYear setUTCHours setUTCMilliseconds setUTCMinutes setUTCMonth setUTCSeconds setYear".split(" "),a=0;a<d.length;a++)b=function(a){return function(b){for(var d=[],e=0;e<arguments.length;e++)d[e]=arguments[e]?arguments[e].toNumber():void 0;return c.createPrimitive(this.date[a].apply(this.date,d))}}(d[a]),this.setProperty(this.DATE.properties.prototype,d[a],this.createNativeFunction(b),!1,!0);for(d="toDateString toISOString toGMTString toLocaleDateString toLocaleString toLocaleTimeString toTimeString toUTCString".split(" "),a=0;a<d.length;a++)b=function(a){return function(){return c.createPrimitive(this.date[a]())}}(d[a]),this.setProperty(this.DATE.properties.prototype,d[a],this.createNativeFunction(b),!1,!0)},Interpreter.prototype.initMath=function(a){var b=this,c=this.createObject(this.OBJECT);this.setProperty(a,"Math",c);var d="E LN2 LN10 LOG2E LOG10E PI SQRT1_2 SQRT2".split(" ");for(a=0;a<d.length;a++)this.setProperty(c,d[a],this.createPrimitive(Math[d[a]]));for(d="abs acos asin atan atan2 ceil cos exp floor log max min pow random round sin sqrt tan".split(" "),a=0;a<d.length;a++){var e=function(a){return function(){for(var c=0;c<arguments.length;c++)arguments[c]=arguments[c].toNumber();return b.createPrimitive(a.apply(Math,arguments))}}(Math[d[a]]);this.setProperty(c,d[a],this.createNativeFunction(e))}},Interpreter.prototype.initRegExp=function(a){var b,c=this;b=function(a,b){var d;return d=this.parent==c.REGEXP?this:c.createObject(c.REGEXP),a=a.toString(),b=b&&b.toString(),c.createRegExp(d,new RegExp(a,b||"")),d},this.REGEXP=this.createNativeFunction(b),this.setProperty(a,"RegExp",this.REGEXP),b=function(){return c.createPrimitive(this.data.toString())},this.setProperty(this.REGEXP.properties.prototype,"toString",this.createNativeFunction(b),!1,!0),b=function(a){return a=a.toString(),c.createPrimitive(this.data.test(a))},this.setProperty(this.REGEXP.properties.prototype,"test",this.createNativeFunction(b),!1,!0),b=function(a){if(a=a.toString(),this.data.lastIndex=c.getProperty(this,"lastIndex").toNumber(),a=this.data.exec(a),c.setProperty(this,"lastIndex",c.createPrimitive(this.data.lastIndex)),a){for(var b=c.createObject(c.ARRAY),d=0;d<a.length;d++)c.setProperty(b,d,c.createPrimitive(a[d]));return c.setProperty(b,"index",c.createPrimitive(a.index)),c.setProperty(b,"input",c.createPrimitive(a.input)),b}return c.createPrimitive(null)},this.setProperty(this.REGEXP.properties.prototype,"exec",this.createNativeFunction(b),!1,!0)},Interpreter.prototype.initJSON=function(a){function b(a){if("object"!=typeof a)return d.createPrimitive(a);var c;if(a instanceof Array){c=d.createObject(d.ARRAY);for(var e=0;e<a.length;e++)d.setProperty(c,e,b(a[e]))}else for(e in c=d.createObject(d.OBJECT),a)d.setProperty(c,e,b(a[e]));return c}function c(a){if(a.isPrimitive)return a.data;var b;if(a.length){b=[];for(var d=0;d<a.length;d++)b[d]=c(a.properties[d])}else for(d in b={},a.properties)b[d]=c(a.properties[d]);return b}var d=this,e=d.createObject(this.OBJECT);this.setProperty(a,"JSON",e),a=function(a){return function(c){return c=c.data,c=a.call(JSON,c),b(c)}}(JSON.parse),this.setProperty(e,"parse",this.createNativeFunction(a)),a=function(a){return function(b){return b=c(b),d.createPrimitive(a.call(JSON,b))}}(JSON.stringify),this.setProperty(e,"stringify",this.createNativeFunction(a))},Interpreter.prototype.isa=function(a,b){return a&&b?a.parent==b?!0:a.parent&&a.parent.prototype?this.isa(a.parent.prototype,b):!1:!1},Interpreter.prototype.comp=function(a,b){return a.isPrimitive&&"number"==typeof a&&isNaN(a.data)||b.isPrimitive&&"number"==typeof b&&isNaN(b.data)||!a.isPrimitive||!b.isPrimitive?NaN:(a=a.data,b=b.data,b>a?-1:a>b?1:0)},Interpreter.prototype.arrayIndex=function(a){return a=Number(a),!isFinite(a)||a!=Math.floor(a)||0>a?NaN:a},Interpreter.prototype.createPrimitive=function(a){if(a instanceof RegExp)return this.createRegExp(this.createObject(this.REGEXP),a);var b=typeof a;return a={data:a,isPrimitive:!0,type:b,toBoolean:function(){return Boolean(this.data)},toNumber:function(){return Number(this.data)},toString:function(){return String(this.data)},valueOf:function(){return this.data}},"number"==b?a.parent=this.NUMBER:"string"==b?a.parent=this.STRING:"boolean"==b&&(a.parent=this.BOOLEAN),a},Interpreter.prototype.createObject=function(a){return a={isPrimitive:!1,type:"object",parent:a,fixed:Object.create(null),nonenumerable:Object.create(null),properties:Object.create(null),toBoolean:function(){return!0},toNumber:function(){return 0},toString:function(){return"["+this.type+"]"},valueOf:function(){return this}},this.isa(a,this.FUNCTION)&&(a.type="function",this.setProperty(a,"prototype",this.createObject(this.OBJECT||null))),this.isa(a,this.ARRAY)&&(a.length=0,a.toString=function(){for(var a=[],b=0;b<this.length;b++)a[b]=this.properties[b].toString();return a.join(",")}),a},Interpreter.prototype.createRegExp=function(a,b){return a.data=b,this.setProperty(a,"lastIndex",this.createPrimitive(a.data.lastIndex),!1,!0),this.setProperty(a,"source",this.createPrimitive(a.data.source),!0,!0),this.setProperty(a,"global",this.createPrimitive(a.data.global),!0,!0),this.setProperty(a,"ignoreCase",this.createPrimitive(a.data.ignoreCase),!0,!0),this.setProperty(a,"multiline",this.createPrimitive(a.data.multiline),!0,!0),a},Interpreter.prototype.createFunction=function(a,b){var c=this.createObject(this.FUNCTION);return c.parentScope=b||this.getScope(),c.node=a,this.setProperty(c,"length",this.createPrimitive(c.node.params.length),!0),c},Interpreter.prototype.createNativeFunction=function(a){var b=this.createObject(this.FUNCTION);return b.nativeFunc=a,this.setProperty(b,"length",this.createPrimitive(a.length),!0),b},Interpreter.prototype.getProperty=function(a,b){if(b=b.toString(),this.isa(a,this.STRING)){if("length"==b)return this.createPrimitive(a.data.length);var c=this.arrayIndex(b);if(!isNaN(c)&&c<a.data.length)return this.createPrimitive(a.data[c])}else if(this.isa(a,this.ARRAY)&&"length"==b)return this.createPrimitive(a.length);for(;;){if(a.properties&&b in a.properties)return a.properties[b];if(!(a.parent&&a.parent.properties&&a.parent.properties.prototype))break;a=a.parent.properties.prototype}return this.UNDEFINED},Interpreter.prototype.hasProperty=function(a,b){if(b=b.toString(),a.isPrimitive)throw new TypeError("Primitive data type has no properties");if("length"==b&&(this.isa(a,this.STRING)||this.isa(a,this.ARRAY)))return!0;if(this.isa(a,this.STRING)){var c=this.arrayIndex(b);if(!isNaN(c)&&c<a.data.length)return!0}for(;;){if(a.properties&&b in a.properties)return!0;if(!(a.parent&&a.parent.properties&&a.parent.properties.prototype))break;a=a.parent.properties.prototype}return!1},Interpreter.prototype.setProperty=function(a,b,c,d,e){if(b=b.toString(),!a.isPrimitive&&!a.fixed[b]){if(this.isa(a,this.STRING)){var f=this.arrayIndex(b);if("length"==b||!isNaN(f)&&f<a.data.length)return}if(this.isa(a,this.ARRAY)){var g;if("length"==b){if(b=this.arrayIndex(c.toNumber()),isNaN(b))throw new RangeError("Invalid array length");if(b<a.length)for(g in a.properties)g=this.arrayIndex(g),!isNaN(g)&&g>=b&&delete a.properties[g];return void(a.length=b)}isNaN(g=this.arrayIndex(b))||(a.length=Math.max(a.length,g+1))}a.properties[b]=c,d&&(a.fixed[b]=!0),e&&(a.nonenumerable[b]=!0)}},Interpreter.prototype.deleteProperty=function(a,b){return b=b.toString(),a.isPrimitive||a.fixed[b]||"length"==b&&this.isa(a,this.ARRAY)?!1:delete a.properties[b]},Interpreter.prototype.getScope=function(){for(var a=0;a<this.stateStack.length;a++)if(this.stateStack[a].scope)return this.stateStack[a].scope;throw"No scope found."},Interpreter.prototype.createScope=function(a,b){var c=this.createObject(null);return(c.parentScope=b)||this.initGlobalScope(c),this.populateScope_(a,c),c},Interpreter.prototype.getValueFromScope=function(a){var b=this.getScope();for(a=a.toString();b;){if(this.hasProperty(b,a))return this.getProperty(b,a);b=b.parentScope}throw"Unknown identifier: "+a},Interpreter.prototype.setValueToScope=function(a,b){for(var c=this.getScope(),d=a.toString();c;){if(this.hasProperty(c,d))return this.setProperty(c,d,b);c=c.parentScope}throw"Unknown identifier: "+d},Interpreter.prototype.populateScope_=function(a,b){if("VariableDeclaration"==a.type)for(var c=0;c<a.declarations.length;c++)this.setProperty(b,a.declarations[c].id.name,this.UNDEFINED);else{if("FunctionDeclaration"==a.type)return void this.setProperty(b,a.id.name,this.createFunction(a,b));if("FunctionExpression"==a.type)return}var d,e=this;for(d in a){var f=a[d];if(f&&"object"==typeof f)if("number"==typeof f.length&&f.splice)for(c=0;c<f.length;c++){var g=f[c];g.constructor==e.ast.constructor&&e.populateScope_(g,b)}else f.constructor==e.ast.constructor&&e.populateScope_(f,b)}},Interpreter.prototype.getValue=function(a){if(a.length){var b=a[0];return a=a[1],this.getProperty(b,a)}return this.getValueFromScope(a)},Interpreter.prototype.setValue=function(a,b){if(a.length){var c=a[0],d=a[1];this.setProperty(c,d,b)}else this.setValueToScope(a,b)},Interpreter.prototype.stepArrayExpression=function(){var a=this.stateStack[0],b=a.node,c=a.n||0;a.array?this.setProperty(a.array,c-1,a.value):a.array=this.createObject(this.ARRAY),b.elements[c]?(a.n=c+1,this.stateStack.unshift({node:b.elements[c]})):(a.array.length=a.n||0,this.stateStack.shift(),this.stateStack[0].value=a.array)},Interpreter.prototype.stepAssignmentExpression=function(){var a=this.stateStack[0],b=a.node;if(a.doneLeft)if(a.doneRight){this.stateStack.shift();var c=a.leftSide,d=a.value;if("="==b.operator)b=d;else{var a=this.getValue(c),e=a.toNumber(),f=d.toNumber();if("+="==b.operator)"string"==a.type||"string"==d.type?(b=a.toString(),a=d.toString()):(b=e,a=f),b+=a;else if("-="==b.operator)b=e-f;else if("*="==b.operator)b=e*f;else if("/="==b.operator)b=e/f;else if("%="==b.operator)b=e%f;else if("<<="==b.operator)b=e<<f;else if(">>="==b.operator)b=e>>f;else if(">>>="==b.operator)b=e>>>f;else if("&="==b.operator)b=e&f;else if("^="==b.operator)b=e^f;else{if("|="!=b.operator)throw"Unknown assignment expression: "+b.operator;b=e|f}b=this.createPrimitive(b)}this.setValue(c,b),this.stateStack[0].value=b}else a.doneRight=!0,a.leftSide=a.value,this.stateStack.unshift({node:b.right});else a.doneLeft=!0,this.stateStack.unshift({node:b.left,components:!0})},Interpreter.prototype.stepBinaryExpression=function(){var a=this.stateStack[0],b=a.node;if(a.doneLeft)if(a.doneRight){this.stateStack.shift();var c=a.leftValue,a=a.value,d=this.comp(c,a);if("=="==b.operator||"!="==b.operator)c=0===d,"!="==b.operator&&(c=!c);else if("==="==b.operator||"!=="==b.operator)c=c.isPrimitive&&a.isPrimitive?c.data===a.data:c===a,"!=="==b.operator&&(c=!c);else if(">"==b.operator)c=1==d;else if(">="==b.operator)c=1==d||0===d;else if("<"==b.operator)c=-1==d;else if("<="==b.operator)c=-1==d||0===d;else if("+"==b.operator)"string"==c.type||"string"==a.type?(c=c.toString(),a=a.toString()):(c=c.toNumber(),a=a.toNumber()),c+=a;else if("in"==b.operator)c=this.hasProperty(a,c);else if(c=c.toNumber(),a=a.toNumber(),"-"==b.operator)c-=a;else if("*"==b.operator)c*=a;else if("/"==b.operator)c/=a;else if("%"==b.operator)c%=a;else if("&"==b.operator)c&=a;else if("|"==b.operator)c|=a;else if("^"==b.operator)c^=a;else if("<<"==b.operator)c<<=a;else if(">>"==b.operator)c>>=a;else{if(">>>"!=b.operator)throw"Unknown binary operator: "+b.operator;c>>>=a}this.stateStack[0].value=this.createPrimitive(c)}else a.doneRight=!0,a.leftValue=a.value,this.stateStack.unshift({node:b.right});else a.doneLeft=!0,this.stateStack.unshift({node:b.left})},Interpreter.prototype.stepBreakStatement=function(){var a=this.stateStack.shift(),a=a.node,b=null;for(a.label&&(b=a.label.name),a=this.stateStack.shift();a&&"callExpression"!=a.node.type;){if(b?b==a.label:a.isLoop||a.isSwitch)return;a=this.stateStack.shift()}throw new SyntaxError("Illegal break statement")},Interpreter.prototype.stepBlockStatement=function(){var a=this.stateStack[0],b=a.node,c=a.n_||0;b.body[c]?(a.n_=c+1,this.stateStack.unshift({node:b.body[c]})):this.stateStack.shift()},Interpreter.prototype.stepCallExpression=function(){var a=this.stateStack[0],b=a.node;if(a.doneCallee_){if(a.func_)c=a.n_,a.arguments.length!=b.arguments.length&&(a.arguments[c-1]=a.value);else{if("function"==a.value.type)a.func_=a.value;else if(a.member_=a.value[0],a.func_=this.getValue(a.value),!a.func_||"function"!=a.func_.type)throw new TypeError((a.func_&&a.func_.type)+" is not a function");"NewExpression"==a.node.type?(a.funcThis_=this.createObject(a.func_),a.isConstructor_=!0):a.funcThis_=a.value.length?a.value[0]:this.stateStack[this.stateStack.length-1].thisExpression,a.arguments=[];var c=0}if(b.arguments[c])a.n_=c+1,this.stateStack.unshift({node:b.arguments[c]});else if(a.doneExec)this.stateStack.shift(),this.stateStack[0].value=a.isConstructor_?a.funcThis_:a.value;else{if(a.doneExec=!0,a.func_.node&&("FunctionApply_"==a.func_.node.type||"FunctionCall_"==a.func_.node.type)){if(a.funcThis_=a.arguments.shift(),"FunctionApply_"==a.func_.node.type){var d=a.arguments.shift();if(d&&this.isa(d,this.ARRAY))for(a.arguments=[],b=0;b<d.length;b++)a.arguments[b]=this.getProperty(d,b);else a.arguments=[]}a.func_=a.member_}if(a.func_.node){for(c=this.createScope(a.func_.node.body,a.func_.parentScope),b=0;b<a.func_.node.params.length;b++){var d=this.createPrimitive(a.func_.node.params[b].name),e=a.arguments.length>b?a.arguments[b]:this.UNDEFINED;this.setProperty(c,d,e)}for(d=this.createObject(this.ARRAY),b=0;b<a.arguments.length;b++)this.setProperty(d,this.createPrimitive(b),a.arguments[b]);this.setProperty(c,"arguments",d),b={node:a.func_.node.body,scope:c,thisExpression:a.funcThis_},this.stateStack.unshift(b),a.value=this.UNDEFINED}else if(a.func_.nativeFunc)a.value=a.func_.nativeFunc.apply(a.funcThis_,a.arguments);else{if(!a.func_.eval)throw new TypeError("function not a function (huh?)");(b=a.arguments[0])?b.isPrimitive?(a=new Interpreter(b.toString()),a.stateStack[0].scope.parentScope=this.getScope(),a={node:{type:"Eval_"},interpreter:a},this.stateStack.unshift(a)):a.value=b:a.value=this.UNDEFINED}}}else a.doneCallee_=!0,this.stateStack.unshift({node:b.callee,components:!0})},Interpreter.prototype.stepConditionalExpression=function(){var a=this.stateStack[0];a.done?(this.stateStack.shift(),"ConditionalExpression"==a.node.type&&(this.stateStack[0].value=a.value)):a.test?(a.done=!0,a.value.toBoolean()&&a.node.consequent?this.stateStack.unshift({node:a.node.consequent}):!a.value.toBoolean()&&a.node.alternate&&this.stateStack.unshift({node:a.node.alternate})):(a.test=!0,this.stateStack.unshift({node:a.node.test}))},Interpreter.prototype.stepContinueStatement=function(){var a=this.stateStack[0].node,b=null;for(a.label&&(b=a.label.name),a=this.stateStack[0];a&&"callExpression"!=a.node.type;){if(a.isLoop&&(!b||b==a.label))return;this.stateStack.shift(),a=this.stateStack[0]}throw new SyntaxError("Illegal continue statement")},Interpreter.prototype.stepDoWhileStatement=function(){var a=this.stateStack[0];a.isLoop=!0,"DoWhileStatement"==a.node.type&&void 0===a.test&&(a.value=this.createPrimitive(!0),a.test=!0),a.test?(a.test=!1,a.value.toBoolean()?a.node.body&&this.stateStack.unshift({node:a.node.body}):this.stateStack.shift()):(a.test=!0,this.stateStack.unshift({node:a.node.test}))},Interpreter.prototype.stepEmptyStatement=function(){this.stateStack.shift()},Interpreter.prototype.stepEval_=function(){var a=this.stateStack[0];a.interpreter.step()||(this.stateStack.shift(),this.stateStack[0].value=a.interpreter.value||this.UNDEFINED)},Interpreter.prototype.stepExpressionStatement=function(){var a=this.stateStack[0];a.done?(this.stateStack.shift(),this.value=a.value):(a.done=!0,this.stateStack.unshift({node:a.node.expression}))},Interpreter.prototype.stepForInStatement=function(){var a=this.stateStack[0];a.isLoop=!0;var b=a.node;if(a.doneVariable_)if(a.doneObject_){"undefined"==typeof a.iterator&&(a.object=a.value,a.iterator=0);var c=null;a:do{var d,e=a.iterator;for(d in a.object.properties)if(!(d in a.object.nonenumerable)){if(0==e){c=d;break a}e--}a.object=a.object.parent&&a.object.parent.properties.prototype,a.iterator=0}while(a.object);a.iterator++,null===c?this.stateStack.shift():(this.setValueToScope(a.variable,this.createPrimitive(c)),b.body&&this.stateStack.unshift({node:b.body}))}else a.doneObject_=!0,a.variable=a.value,this.stateStack.unshift({node:b.right});else a.doneVariable_=!0,a=b.left,"VariableDeclaration"==a.type&&(a=a.declarations[0].id),this.stateStack.unshift({node:a,components:!0})},Interpreter.prototype.stepForStatement=function(){var a=this.stateStack[0];a.isLoop=!0;var b=a.node,c=a.mode||0;0==c?(a.mode=1,b.init&&this.stateStack.unshift({node:b.init})):1==c?(a.mode=2,b.test&&this.stateStack.unshift({node:b.test})):2==c?(a.mode=3,a.value&&!a.value.toBoolean()?this.stateStack.shift():b.body&&this.stateStack.unshift({node:b.body})):3==c&&(a.mode=1,b.update&&this.stateStack.unshift({node:b.update}))},Interpreter.prototype.stepFunctionDeclaration=function(){this.stateStack.shift()},Interpreter.prototype.stepFunctionExpression=function(){var a=this.stateStack[0];this.stateStack.shift(),this.stateStack[0].value=this.createFunction(a.node)},Interpreter.prototype.stepIdentifier=function(){var a=this.stateStack[0];this.stateStack.shift();var b=this.createPrimitive(a.node.name);this.stateStack[0].value=a.components?b:this.getValueFromScope(b)},Interpreter.prototype.stepIfStatement=Interpreter.prototype.stepConditionalExpression,Interpreter.prototype.stepLabeledStatement=function(){var a=this.stateStack.shift();this.stateStack.unshift({node:a.node.body,label:a.node.label.name})},Interpreter.prototype.stepLiteral=function(){var a=this.stateStack[0];this.stateStack.shift(),this.stateStack[0].value=this.createPrimitive(a.node.value)},Interpreter.prototype.stepLogicalExpression=function(){var a=this.stateStack[0],b=a.node;if("&&"!=b.operator&&"||"!=b.operator)throw"Unknown logical operator: "+b.operator;a.doneLeft_?a.doneRight_?(this.stateStack.shift(),this.stateStack[0].value=a.value):"&&"==b.operator&&!a.value.toBoolean()||"||"==b.operator&&a.value.toBoolean()?(this.stateStack.shift(),this.stateStack[0].value=a.value):(a.doneRight_=!0,this.stateStack.unshift({node:b.right})):(a.doneLeft_=!0,this.stateStack.unshift({node:b.left}))},Interpreter.prototype.stepMemberExpression=function(){var a=this.stateStack[0],b=a.node;a.doneObject_?a.doneProperty_?(this.stateStack.shift(),this.stateStack[0].value=a.components?[a.object,a.value]:this.getProperty(a.object,a.value)):(a.doneProperty_=!0,a.object=a.value,this.stateStack.unshift({node:b.property,components:!b.computed})):(a.doneObject_=!0,this.stateStack.unshift({node:b.object}))},Interpreter.prototype.stepNewExpression=Interpreter.prototype.stepCallExpression,Interpreter.prototype.stepObjectExpression=function(){var a=this.stateStack[0],b=a.node,c=a.valueToggle,d=a.n||0;a.object?c?a.key=a.value:this.setProperty(a.object,a.key,a.value):a.object=this.createObject(this.OBJECT),b.properties[d]?(c?(a.n=d+1,this.stateStack.unshift({node:b.properties[d].value})):this.stateStack.unshift({node:b.properties[d].key,components:!0}),a.valueToggle=!c):(this.stateStack.shift(),this.stateStack[0].value=a.object)},Interpreter.prototype.stepProgram=Interpreter.prototype.stepBlockStatement,Interpreter.prototype.stepReturnStatement=function(){
var a=this.stateStack[0],b=a.node;if(b.argument&&!a.done)a.done=!0,this.stateStack.unshift({node:b.argument});else{b=a.value||this.UNDEFINED;do{if(this.stateStack.shift(),0==this.stateStack.length)throw new SyntaxError("Illegal return statement");a=this.stateStack[0]}while("CallExpression"!=a.node.type);a.value=b}},Interpreter.prototype.stepSequenceExpression=function(){var a=this.stateStack[0],b=a.node,c=a.n||0;b.expressions[c]?(a.n=c+1,this.stateStack.unshift({node:b.expressions[c]})):(this.stateStack.shift(),this.stateStack[0].value=a.value)},Interpreter.prototype.stepSwitchStatement=function(){var a=this.stateStack[0];if(a.checked=a.checked||[],a.isSwitch=!0,a.test){a.switchValue||(a.switchValue=a.value);var b=a.index||0,c=a.node.cases[b];if(c)if(a.done||a.checked[b]||!c.test){if(a.done||!c.test||0==this.comp(a.value,a.switchValue)){a.done=!0;var d=a.n||0;if(c.consequent[d])return this.stateStack.unshift({node:c.consequent[d]}),void(a.n=d+1)}a.n=0,a.index=b+1}else a.checked[b]=!0,this.stateStack.unshift({node:c.test});else this.stateStack.shift()}else a.test=!0,this.stateStack.unshift({node:a.node.discriminant})},Interpreter.prototype.stepThisExpression=function(){this.stateStack.shift();for(var a=0;a<this.stateStack.length;a++)if(this.stateStack[a].thisExpression)return void(this.stateStack[0].value=this.stateStack[a].thisExpression);throw"No this expression found."},Interpreter.prototype.stepThrowStatement=function(){var a=this.stateStack[0],b=a.node;if(a.argument)throw a.value.toString();a.argument=!0,this.stateStack.unshift({node:b.argument})},Interpreter.prototype.stepUnaryExpression=function(){var a=this.stateStack[0],b=a.node;if(a.done){if(this.stateStack.shift(),"-"==b.operator)a=-a.value.toNumber();else if("+"==b.operator)a=a.value.toNumber();else if("!"==b.operator)a=!a.value.toNumber();else if("~"==b.operator)a=~a.value.toNumber();else if("typeof"==b.operator)a=a.value.type;else if("delete"==b.operator)a.value.length?(b=a.value[0],a=a.value[1]):(b=this.getScope(),a=a.value),a=this.deleteProperty(b,a);else{if("void"!=b.operator)throw"Unknown unary operator: "+b.operator;a=void 0}this.stateStack[0].value=this.createPrimitive(a)}else a.done=!0,a={node:b.argument},"delete"==b.operator&&(a.components=!0),this.stateStack.unshift(a)},Interpreter.prototype.stepUpdateExpression=function(){var a=this.stateStack[0],b=a.node;if(a.done){this.stateStack.shift();var c,a=a.value,d=this.getValue(a).toNumber();if("++"==b.operator)c=this.createPrimitive(d+1);else{if("--"!=b.operator)throw"Unknown update expression: "+b.operator;c=this.createPrimitive(d-1)}this.setValue(a,c);var e=b.prefix?e:d;this.stateStack[0].value=this.createPrimitive(e)}else a.done=!0,this.stateStack.unshift({node:b.argument,components:!0})},Interpreter.prototype.stepVariableDeclaration=function(){var a=this.stateStack[0],b=a.node,c=a.n||0;b.declarations[c]?(a.n=c+1,this.stateStack.unshift({node:b.declarations[c]})):this.stateStack.shift()},Interpreter.prototype.stepVariableDeclarator=function(){var a=this.stateStack[0],b=a.node;b.init&&!a.done?(a.done=!0,this.stateStack.unshift({node:b.init})):((!this.hasProperty(this,b.id.name)||b.init)&&(a=b.init?a.value:this.UNDEFINED,this.setValue(this.createPrimitive(b.id.name),a)),this.stateStack.shift())},Interpreter.prototype.stepWhileStatement=Interpreter.prototype.stepDoWhileStatement,window.Interpreter=Interpreter,Interpreter.prototype.step=Interpreter.prototype.step,Interpreter.prototype.run=Interpreter.prototype.run;var Z=-100,U=-99,ON=1,OFF=0,GND=0,randomValue=-25,vcc_value=1;Pin.prototype.setPin=function(a){this.value=a};var leds=[940,880,850,660,635,633,620,612,605,595,592,585,574,570,565,560,555,525,505,470,430,4500,6500,8e3],colours_off=["#666666","#999999","#c0c0c0","#ff114d","#ff0000","#e60000","#ff5b0d","#ff9a35","#ff9a35","#fadf47","#fbe446","#ffea00","#deffa2","#17ff8b","#00d76b","#00cc80","#00b33b","#00d9d3","#07d2fe","#3851fe","#0000ee","#cccccc","#ffffff","#ffecfe"],colours_on=["#ffecfe","#ffecfe","#ffecfe","#ffa9bf","#ffa9bf","#ffa9bf","#ffbf9e","#ffbf9e","#ffbf9e","#ffffad","#ffffad","#ffffad","#ffffad","#5dffae","#5dffae","#5dffae","#5dffae","#80ece9","#80ece9","#8897fe","#8897fe","#ccffff","#ccffff","#ccffff"];Led.prototype.getState=function(){return 1===this.input.value&0===this.gnd.value?this.state=ON:this.state=OFF},Resistor.prototype.update_values=function(){var a=0;return"input"===this.pin0.currentMode&&"output"===this.pin1.currentMode&&this.pin0.value!=this.pin0.value&&this.pin0.setPin(this.pin0.value),"output"===this.pin0.currentMode&&"input"===this.pin1.currentMode&&this.pin1.value!=this.pin0.value&&this.pin0.setPin(this.pin1.value),a},Button.prototype.pushed=function(a){1===a&null!=this.output.neighbors&&(this.output.value=this.input.value,this.output.neighbors.push(new Neighbor(this.componentId,this.input)))};var GND=0,value=-25,vcc_value=1,maxPWM=255,maxAIO=1023,vcc_value3=3.3,vcc_value5=5,gnd_value=0,INPUT=0,OUTPUT=1;Board.prototype.assignPinPos=function(){for(var a=0;a<this.pins.length;a++)this.pins[a].pos=a},Board.prototype.searchPin=function(a){for(var b=0;b<this.pins.length;b++)if(this.pins[b].number===a)return this.pins[b]},Board.prototype.digitalRead=function(a){return this.pinMode(a,INPUT),this.searchPin(pin).value},Board.prototype.digitalWrite=function(a,b){this.pinMode(a,OUTPUT),this.searchPin(a).value=b},Board.prototype.pinMode=function(a,b){var c=this.searchPin(a),d=typeof b;return-1==c.pin_capacities.indexOf("GPIO_IN")&&-1==c.pin_capacities.indexOf("GPIO_OUT")?void console.log("This is wrong. This will break. We are not doing this. "+pin):("string"===d?(b.toLowerCase()==="INPUT".toLowerCase()&&(c.currentMode="GPIO_IN"),b.toLowerCase()==="OUTPUT".toLowerCase()&&(c.currentMode="GPIO_OUT")):(b===INPUT&&(c.currentMode="GPIO_IN"),b===OUTPUT&&(c.currentMode="GPIO_OUT")),c.currentMode)},Board.prototype.getPin=function(a){var b=this.searchPin(a);if(null!=b){var c=new returnPin(b.currentMode,b.value,b.number);return c}return void console.log("Found null")},Board.prototype.setPin=function(a,b){var c=this.searchPin(a);c.value=b},Board.prototype.dump=function(){for(var a=[],b=0;b<this.numberOfPins;b++)null!=this.getPin(b)?a.push(this.getPin(b)):console.log("There is no pin "+b);return a};var pi=raspberryPiBoard(),led=new Led,componentele=[];pi.componentId=componentele.length,componentele.push(pi),led.componentId=componentele.length,componentele.push(led);var components=[],nothing=-1,last_led=-1;handleGetClick(),simulate();